apiVersion: v1
kind: Service
metadata:
  name: microservice-loadbalancer
spec:
  # The LoadBalancer type exposes the service externally using a GCP Load Balancer
  type: LoadBalancer 
  selector:
    # Must match the 'app' label in your deployment template
    app: microservice-api 
  ports:
    - protocol: TCP
      port: 80 # The port the LoadBalancer listens on
      targetPort: 5000 # The container port (Flask runs on 5000)